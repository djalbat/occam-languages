"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get areTerminalNodeMapsEqual () {
        return areTerminalNodeMapsEqual;
    },
    get nonTerminalNodeQuery () {
        return nonTerminalNodeQuery;
    },
    get terminalNodeMapFromNodes () {
        return terminalNodeMapFromNodes;
    }
});
var _necessary = require("necessary");
var _query = require("../utilities/query");
var match = _necessary.arrayUtilities.match;
var nonTerminalNodeQuery = (0, _query.nodeQuery)("/*");
function terminalNodeMapFromNodes(nodes) {
    var terminalNodeMap = {};
    nodes.forEach(function(node, index) {
        var nodeTerminalNode = node.isTerminalNode();
        if (nodeTerminalNode) {
            var terminalNode = node; //
            terminalNodeMap[index] = terminalNode;
        }
    });
    return terminalNodeMap;
}
function areTerminalNodeMapsEqual(generalTerminalNodeMap, specificTerminalNodeMap) {
    var terminalNodeMapsEqual = false;
    var generalIndexes = Object.keys(generalTerminalNodeMap), specificIndexes = Object.keys(specificTerminalNodeMap), terminalNodeMapKeysMatch = match(generalIndexes, specificIndexes, function(generalIndex, specificIndex) {
        if (generalIndex === specificIndex) {
            return true;
        }
    });
    if (terminalNodeMapKeysMatch) {
        var generalTerminalNodes = Object.values(generalTerminalNodeMap), specificTerminalNodes = Object.values(specificTerminalNodeMap), terminalNodeMapValuesMatch = match(generalTerminalNodes, specificTerminalNodes, function(generalTerminalNode, specificTerminalNode) {
            var generalTerminalNodeMatchesSpecificTerminalNode = generalTerminalNode.match(specificTerminalNode);
            if (generalTerminalNodeMatchesSpecificTerminalNode) {
                return true;
            }
        });
        terminalNodeMapsEqual = terminalNodeMapValuesMatch; ///
    }
    return terminalNodeMapsEqual;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcGFzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmltcG9ydCB7IG5vZGVRdWVyeSB9IGZyb20gXCIuLi91dGlsaXRpZXMvcXVlcnlcIjtcblxuY29uc3QgeyBtYXRjaCB9ID0gYXJyYXlVdGlsaXRpZXM7XG5cbmV4cG9ydCBjb25zdCBub25UZXJtaW5hbE5vZGVRdWVyeSA9IG5vZGVRdWVyeShcIi8qXCIpO1xuXG5leHBvcnQgZnVuY3Rpb24gdGVybWluYWxOb2RlTWFwRnJvbU5vZGVzKG5vZGVzKSB7XG4gIGNvbnN0IHRlcm1pbmFsTm9kZU1hcCA9IHt9O1xuXG4gIG5vZGVzLmZvckVhY2goKG5vZGUsIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgbm9kZVRlcm1pbmFsTm9kZSA9IG5vZGUuaXNUZXJtaW5hbE5vZGUoKTtcblxuICAgIGlmIChub2RlVGVybWluYWxOb2RlKSB7XG4gICAgICBjb25zdCB0ZXJtaW5hbE5vZGUgPSBub2RlOyAgLy9cblxuICAgICAgdGVybWluYWxOb2RlTWFwW2luZGV4XSA9IHRlcm1pbmFsTm9kZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0ZXJtaW5hbE5vZGVNYXA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVUZXJtaW5hbE5vZGVNYXBzRXF1YWwoZ2VuZXJhbFRlcm1pbmFsTm9kZU1hcCwgc3BlY2lmaWNUZXJtaW5hbE5vZGVNYXApIHtcbiAgbGV0IHRlcm1pbmFsTm9kZU1hcHNFcXVhbCA9IGZhbHNlO1xuXG4gIGNvbnN0IGdlbmVyYWxJbmRleGVzID0gT2JqZWN0LmtleXMoZ2VuZXJhbFRlcm1pbmFsTm9kZU1hcCksIC8vL1xuICAgICAgICBzcGVjaWZpY0luZGV4ZXMgPSBPYmplY3Qua2V5cyhzcGVjaWZpY1Rlcm1pbmFsTm9kZU1hcCksIC8vL1xuICAgICAgICB0ZXJtaW5hbE5vZGVNYXBLZXlzTWF0Y2ggPSBtYXRjaChnZW5lcmFsSW5kZXhlcywgc3BlY2lmaWNJbmRleGVzLCAoZ2VuZXJhbEluZGV4LCBzcGVjaWZpY0luZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGdlbmVyYWxJbmRleCA9PT0gc3BlY2lmaWNJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICBpZiAodGVybWluYWxOb2RlTWFwS2V5c01hdGNoKSB7XG4gICAgY29uc3QgZ2VuZXJhbFRlcm1pbmFsTm9kZXMgPSBPYmplY3QudmFsdWVzKGdlbmVyYWxUZXJtaW5hbE5vZGVNYXApLCAvLy9cbiAgICAgICAgICBzcGVjaWZpY1Rlcm1pbmFsTm9kZXMgPSBPYmplY3QudmFsdWVzKHNwZWNpZmljVGVybWluYWxOb2RlTWFwKSwgLy8vXG4gICAgICAgICAgdGVybWluYWxOb2RlTWFwVmFsdWVzTWF0Y2ggPSBtYXRjaChnZW5lcmFsVGVybWluYWxOb2Rlcywgc3BlY2lmaWNUZXJtaW5hbE5vZGVzLCAoZ2VuZXJhbFRlcm1pbmFsTm9kZSwgc3BlY2lmaWNUZXJtaW5hbE5vZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdlbmVyYWxUZXJtaW5hbE5vZGVNYXRjaGVzU3BlY2lmaWNUZXJtaW5hbE5vZGUgPSBnZW5lcmFsVGVybWluYWxOb2RlLm1hdGNoKHNwZWNpZmljVGVybWluYWxOb2RlKTtcblxuICAgICAgICAgICAgaWYgKGdlbmVyYWxUZXJtaW5hbE5vZGVNYXRjaGVzU3BlY2lmaWNUZXJtaW5hbE5vZGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICB0ZXJtaW5hbE5vZGVNYXBzRXF1YWwgPSB0ZXJtaW5hbE5vZGVNYXBWYWx1ZXNNYXRjaDsgLy8vXG4gIH1cblxuICByZXR1cm4gdGVybWluYWxOb2RlTWFwc0VxdWFsO1xufVxuIl0sIm5hbWVzIjpbImFyZVRlcm1pbmFsTm9kZU1hcHNFcXVhbCIsIm5vblRlcm1pbmFsTm9kZVF1ZXJ5IiwidGVybWluYWxOb2RlTWFwRnJvbU5vZGVzIiwibWF0Y2giLCJhcnJheVV0aWxpdGllcyIsIm5vZGVRdWVyeSIsIm5vZGVzIiwidGVybWluYWxOb2RlTWFwIiwiZm9yRWFjaCIsIm5vZGUiLCJpbmRleCIsIm5vZGVUZXJtaW5hbE5vZGUiLCJpc1Rlcm1pbmFsTm9kZSIsInRlcm1pbmFsTm9kZSIsImdlbmVyYWxUZXJtaW5hbE5vZGVNYXAiLCJzcGVjaWZpY1Rlcm1pbmFsTm9kZU1hcCIsInRlcm1pbmFsTm9kZU1hcHNFcXVhbCIsImdlbmVyYWxJbmRleGVzIiwiT2JqZWN0Iiwia2V5cyIsInNwZWNpZmljSW5kZXhlcyIsInRlcm1pbmFsTm9kZU1hcEtleXNNYXRjaCIsImdlbmVyYWxJbmRleCIsInNwZWNpZmljSW5kZXgiLCJnZW5lcmFsVGVybWluYWxOb2RlcyIsInZhbHVlcyIsInNwZWNpZmljVGVybWluYWxOb2RlcyIsInRlcm1pbmFsTm9kZU1hcFZhbHVlc01hdGNoIiwiZ2VuZXJhbFRlcm1pbmFsTm9kZSIsInNwZWNpZmljVGVybWluYWxOb2RlIiwiZ2VuZXJhbFRlcm1pbmFsTm9kZU1hdGNoZXNTcGVjaWZpY1Rlcm1pbmFsTm9kZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O1FBMEJnQkE7ZUFBQUE7O1FBbEJIQztlQUFBQTs7UUFFR0M7ZUFBQUE7Ozt5QkFSZTtxQkFFTDtBQUUxQixJQUFNLEFBQUVDLFFBQVVDLHlCQUFjLENBQXhCRDtBQUVELElBQU1GLHVCQUF1QkksSUFBQUEsZ0JBQVMsRUFBQztBQUV2QyxTQUFTSCx5QkFBeUJJLEtBQUs7SUFDNUMsSUFBTUMsa0JBQWtCLENBQUM7SUFFekJELE1BQU1FLE9BQU8sQ0FBQyxTQUFDQyxNQUFNQztRQUNuQixJQUFNQyxtQkFBbUJGLEtBQUtHLGNBQWM7UUFFNUMsSUFBSUQsa0JBQWtCO1lBQ3BCLElBQU1FLGVBQWVKLE1BQU8sRUFBRTtZQUU5QkYsZUFBZSxDQUFDRyxNQUFNLEdBQUdHO1FBQzNCO0lBQ0Y7SUFFQSxPQUFPTjtBQUNUO0FBRU8sU0FBU1AseUJBQXlCYyxzQkFBc0IsRUFBRUMsdUJBQXVCO0lBQ3RGLElBQUlDLHdCQUF3QjtJQUU1QixJQUFNQyxpQkFBaUJDLE9BQU9DLElBQUksQ0FBQ0wseUJBQzdCTSxrQkFBa0JGLE9BQU9DLElBQUksQ0FBQ0osMEJBQzlCTSwyQkFBMkJsQixNQUFNYyxnQkFBZ0JHLGlCQUFpQixTQUFDRSxjQUFjQztRQUMvRSxJQUFJRCxpQkFBaUJDLGVBQWU7WUFDbEMsT0FBTztRQUNUO0lBQ0Y7SUFFTixJQUFJRiwwQkFBMEI7UUFDNUIsSUFBTUcsdUJBQXVCTixPQUFPTyxNQUFNLENBQUNYLHlCQUNyQ1ksd0JBQXdCUixPQUFPTyxNQUFNLENBQUNWLDBCQUN0Q1ksNkJBQTZCeEIsTUFBTXFCLHNCQUFzQkUsdUJBQXVCLFNBQUNFLHFCQUFxQkM7WUFDcEcsSUFBTUMsaURBQWlERixvQkFBb0J6QixLQUFLLENBQUMwQjtZQUVqRixJQUFJQyxnREFBZ0Q7Z0JBQ2xELE9BQU87WUFDVDtRQUNGO1FBRU5kLHdCQUF3QlcsNEJBQTRCLEdBQUc7SUFDekQ7SUFFQSxPQUFPWDtBQUNUIn0=